---
const currentPath = Astro.url.pathname;

const navItems = [
  { href: "/", label: "Dashboard", icon: "layout-dashboard" },
  { href: "/portfolio", label: "Portfolio", icon: "briefcase" },
  { href: "/billing-roles", label: "Tarifas", icon: "receipt" },
  { href: "/alerts", label: "Alertas", icon: "bell" },
];
---

<aside class="w-64 bg-white border-r border-gray-200 flex flex-col">
  <div class="p-6 border-b border-gray-200">
    <h1 class="text-xl font-bold text-gray-900">
      <span class="text-primary">Appix</span> Finance
    </h1>
    <p class="text-xs text-neutral mt-1">Centro de Comando Financiero</p>
  </div>

  <nav class="flex-1 p-4 space-y-1">
    {navItems.map((item) => {
      const isActive = currentPath === item.href ||
        (item.href !== "/" && currentPath.startsWith(item.href));
      return (
        <a
          href={item.href}
          class:list={[
            "flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",
            isActive
              ? "bg-primary/10 text-primary"
              : "text-neutral hover:bg-gray-100 hover:text-gray-900",
          ]}
        >
          <span class="w-5 h-5 flex items-center justify-center text-current">
            {item.icon === "layout-dashboard" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>
            )}
            {item.icon === "briefcase" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/><rect width="20" height="14" x="2" y="6" rx="2"/></svg>
            )}
            {item.icon === "receipt" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"/><path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"/><path d="M12 17.5v-11"/></svg>
            )}
            {item.icon === "bell" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>
            )}
          </span>
          {item.label}
        </a>
      );
    })}
  </nav>

  <div class="p-4 border-t border-gray-200">
    <p class="text-xs text-neutral">v0.1.0</p>
  </div>
</aside>
